<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
	<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Random Name Picker</title>

  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/foundation.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
  <script src="js/vendor/custom.modernizr.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js" integrity="sha512-lOtDAY9KMT1WH9Fx6JSuZLHxjC8wmIBxsNFL6gJPaG7sLIVoSO9yCraWOwqLLX+txsOw0h2cHvcUJlJPvMlotw==" crossorigin="anonymous"></script>
  <script src="js/jquery-latest.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">

 <link rel="stylesheet" href="https://cdn.rawgit.com/artf/grapick/master/dist/grapick.min.css" />
  <script src="https://cdn.rawgit.com/artf/grapick/master/dist/grapick.min.js"></script>
<style>
h3{
  font-family: 'Montserrat', sans-serif;
}  
#values { position:relative;font-size:500%;text-align:center;margin: 1em auto;z-index:0; }
.name { overflow:hidden;display:block; }
#names { display:none;padding:5px; }
#namesbox { min-height:400px;font-size:32px;color:#333;resize:none;border:1px solid #F39C12; }
.extra { font-size:16px;margin-top:20px; }
#result1 { background:#000;color:#ffde59;font-size:135%;margin-top:5em;padding:25px;z-index:10;margin-top:-150px;font-family: 'Montserrat', sans-serif; }
#headline { font-size:250%; padding-top:0.5em; }
body { background:#F1C40F url(img/bg-noise-orange.png); font-family: 'Montserrat', sans-serif; }
#varnote { font-size:40px;text-align:center;padding:30px; }
.icons > input
{
    display: none;
}

.icons
{
  position: absolute;
  right: 0;
  top: 3em;
}

.fas {
  font-size: 3em;
  text-shadow: 2px 2px #000;
  cursor: pointer;
  user-select: none;
  color:white;
}

.fas:hover {
  color: grey;
}

#logo{
    background-image:url('');
    background-size:cover;
    background-position: center;
    height: 10em; width: 10em;
    border: 1px solid #bbb;
    padding-left: 50%;
    padding-right: 50%;
    /*border:0px;*/
}

/* begin base styles */
/* https://milligram.github.io/ */
@import url('//fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap');
@import url('//cdn.rawgit.com/necolas/normalize.css/master/normalize.css');
@import url('//cdn.rawgit.com/milligram/milligram/master/dist/milligram.min.css');

/* end base styles */

#bg-selector {
  font-size: 1em;
  font-style: italic;
}
.color {
  width: 24px;
  height: 24px;
  border: 1px solid #555;
  display: inline-block;
  margin: 0 0 0 0.2em;
  cursor: pointer;
  padding: 2px;
}
.color img {
  max-width: 100%;
  max-height: 100%;
  display: block;
}
.gray,
.picker {
  background: #eaeaea;
}
.floral_white {
  background: #fffaf0;
}
.pink {
  background: #ffb6c1;
}
#colorpicker { visibility: hidden;}

.resizable {
  background: white;
  width: 100px;
  height: 100px;
  position: absolute;
  top: 100px;
  left: 100px;
}

.resizable .resizers{
  width: 100%;
  height: 100%;
  border: 2px solid #4286f4;
  box-sizing: border-box;
}

.resizable .resizers .resizer{
  width: 10px;
  height: 10px;
  border-radius: 50%; /*magic to turn square into circle*/
  background: white;
  border: 2px solid #4286f4;
  position: absolute;
}

.resizable .resizers .resizer.top-left {
  left: -5px;
  top: -5px;
  cursor: nwse-resize; /*resizer cursor*/
}
.resizable .resizers .resizer.top-right {
  right: -5px;
  top: -5px;
  cursor: nesw-resize;
}
.resizable .resizers .resizer.bottom-left {
  left: -5px;
  bottom: -5px;
  cursor: nesw-resize;
}
.resizable .resizers .resizer.bottom-right {
  right: -5px;
  bottom: -5px;
  cursor: nwse-resize;
}
.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  margin-top:0.5em;
  padding: 2em 1em;
  z-index: 1;
}

.dropdown:hover .dropdown-content {
  display: block;
  color:black;
}

.button{
  background-color:transparent;
  border: 3px solid white;
}

.button:hover{
  background-color:white;
  color: black;
}

.reset:hover{
  background-color:#c60f13;
  color:white;
}

.roll:hover{
  background-color:#5da423;
  color:white;
}
  
</style>

</head>
<body onload="reset();">

  <div class="full-head" id = 'hide' style="width:100%;background:rgba(0,0,0,0.5);border-bottom:1px solid #D35400;">
	<div class="row">
		<!-- <div class="large-12 columns" style="padding-top:50px;background:#111 url(https://source.unsplash.com/user/heysupersimi) repeat-x center top;z-index:20;"> -->
      <div class="large-12 columns" style="padding-top:50px;background:rgba(0,0,0,0);z-index:20;">
		<ul class="button-group even-5 " >
      <li><a href="index.html" class="reset button" id="reset">Reset</a></li>
			<li><button class="button" id="list" onclick="namelist();">Name List</button></li>
			<li><button class="button" id="save" onclick="save();">Save &amp; Update</button></li>
			<li><button class="roll button" id="go" onclick="go();">GO!</button></li>
      <li><button class="button dropdown">
        <div>
          <span>BG color</span>
  <div class="dropdown-content">
      <div class="color floral_white" data-value="#fffaf0"></div>
        <div class="color gray" data-value="#eaeaea"></div>
        <div class="color pink" data-value="#ffb6c1"></div>
        
          <div class="color picker" onclick="pickColor();"><img src='img/color-picker-icon.png' /></div><div id ="gp" style="padding-top:1em;"></div></button><input id="colorpicker" type="color"/>
        
      </li>
  </div>
</div>
        
</li>

    </div>
<script>
  // $(".button").hover(
  //     function () {
  //       $(this).addClass("hover");
  //     },
  //     function () {
  //       $(this).removeClass("hover");
  //     }
  //   );
  </script>
    <script>

      $(function() {
  //bg color selector
  $(".color").click(function(){
    var color = $(this).attr("data-value");
    $("body").css("background", color);
      $(".button").hover(function(){
  $(this).css("color", color);
}, function(){
  $(this).css("color", "white");
});
  });
  
  
  //add color picker if supported
  if (Modernizr.inputtypes.color) {
    $(".picker").css("display", 'inline-block');
    var c = document.getElementById('colorpicker');
    c.addEventListener('change', function(e) {
      //d.innerHTML = c.value;
      var color = c.value;
      $("body").css("background", color);
      $(".button").hover(function(){
  $(this).css("color", color);
}, function(){
  $(this).css("color", "white");
});
    }, false);
  }
});
function pickColor() {
  $("#colorpicker").click();
}

    //gradient picker
  const gp = new Grapick({el: '#gp'});

  // Handlers are color stops
  gp.addHandler(0, '#fffaf0');
  gp.addHandler(100, '#085078');
  var color_gradient;
  // Do stuff on change of the gradient
  gp.on('change', complete => {
    document.body.style.background = gp.getSafeValue();
    color_gradient = gp.getSafeValue();
  })
  $(".button").hover(function(){
  $(this).css("color", "black");
}, function(){
  $(this).css("color", "white");
});
  </script>
    </ul>
    
	</div>
	</div>

	<div class="row">
		<div class="large-12 columns">
			<h3 style="text-align:center;margin-top:30px;" id="headline">Let's see who is The Lucky One?</h3>
			<script>var el = document.getElementById('getval');
  if(el){el.addEventListener('change', readURL, true);}
function readURL(){
    var file = document.getElementById("getval").files[0];
    var reader = new FileReader();
    reader.onloadend = function(){
        document.getElementById('logo').style.backgroundImage = "url(" + reader.result + ")";        
    }
    if(file){
        reader.readAsDataURL(file);
    }else{
    }
}</script>
			<div class="icons">
        <label for="getval">
            <i class="fas fa-image" id="upload_image"></i>
        </label>
        <input type='file' id='getval' />

        <!-- <i onclick="myFunction(this)" class="fas fa-eye"></i><br/> -->
      </div>
			
			<div id="varnote"><div id='logo'></div></div>
<!-- 			<div class='resizable'>
  <div class='resizers'>
    <div class='resizer top-left hide_resizer'></div>
    <div class='resizer top-right hide'></div>
    <div class='resizer bottom-left hide'></div>
    <div class='resizer bottom-right hide_resizer'></div>
  </div>
</div>
<button onclick="myFunction()">Fix</button> -->


      <div id="popdown">
      <div id="names" class="inbox"><textarea name="namesbox" id="namesbox"></textarea></div>
      </div>
      
      <div id="values"></div>


		</div>
	</div>

  <script>
  document.write('<script src=' +
  ('__proto__' in {} ? 'js/vendor/zepto' : 'js/vendor/jquery') +
  '.js><\/script>')
  </script>
  
  <script src="js/foundation.min.js"></script>
  <script>$(document).foundation();</script>
  
<script>
var text;
var names = new Array('lim',
                      'lim2',
                      'lim3',
                      'Jospeh Lustberg Lustberg',
                      'JospehLustberg Lustberg Lustberg',
                      '林林林',
                      '林林林1',
                      '林林林',
                      '林林林1',
                      '林林林',
                      '林林林1',
                      'SpringLuckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'SpringLuckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'Spring Luckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'Spring Luckinbill Luckinbill',
                      'Ciera Chionchio',
                      'Marleen Litchard',
                      'Eldridge Brynga Brynga',
                      'Leif Dinho',
                      'Gigi Kornblatt',
                      'Idell Chagollan',
                      'Michale Mcclod',
                      'lim lim lim',
                      'lim2 lim2 lim2',
                      'lim3 lim3 ',
                      'lim3 lim3 ',
                      'Jospeh Lustberg Lustberg',
                      'JospehLustberg Lustberg Lustberg',
                      'SpringLuckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'SpringLuckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'Spring Luckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'Spring Luckinbill Luckinbill',
                      'Ciera Chionchio',
                      'Marleen Litchard',
                      'Eldridge Brynga Brynga',
                      'Leif Dinho',
                      'Gigi Kornblatt',
                      'Idell Chagollan',
                      'Michale Mcclod'
                      );

function reset(){
  // re-enable go button
  setTimeout("$('#go').removeAttr('disabled')",11005);
  var namesbreak = "";
  if(gup('names') != ""){
    var names = gup('names');
    namesbreak = names.replace(/101/g,'\n');
    namesbreak = namesbreak.replace(/%20/g,' ');          
    }
    else   {
      var names = new Array('JJ',
					            'lim',
                      'lim2',
                      'lim3',
                      'Jospeh Lustberg Lustberg',
                      'JospehLustberg Lustberg Lustberg',
                      '林林林',
                      '林林林1',
                      '林林林',
                      '林林林1',
                      '林林林',
                      '林林林1',
                      'SpringLuckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'SpringLuckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'Spring Luckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'Spring Luckinbill Luckinbill',
                      'Ciera Chionchio',
                      'Marleen Litchard',
                      'Eldridge Brynga Brynga',
                      'Leif Dinho',
                      'Gigi Kornblatt',
                      'Idell Chagollan',
                      'Michale Mcclod',
                      'lim lim lim',
                      'lim2 lim2 lim2',
                      'lim3 lim3 ',
                      'lim3 lim3 ',
                      'Jospeh Lustberg Lustberg',
                      'JospehLustberg Lustberg Lustberg',
                      'SpringLuckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'SpringLuckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'Spring Luckinbill Luckinbill',
                      'JospehLustberg Lustberg Lustberg',
                      'Spring Luckinbill Luckinbill',
                      'Ciera Chionchio',
                      'Marleen Litchard',
                      'Eldridge Brynga Brynga',
                      'Leif Dinho',
                      'Gigi Kornblatt',
                      'Idell Chagollan',
                      'Michale Mcclod'
                      );
    for(var i in names){
      name = names[i];
      if (name == "" || typeof(name) == undefined){}else{
         namesbreak = namesbreak + name + "\n";
      }
    }
  }
  $("#namesbox").val(namesbreak);
}

function gup(para)
{
  para = para.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  var regexS = "[\\?&]"+para+"=([^&#]*)";
  var regex = new RegExp( regexS );
  var results = regex.exec( window.location.href );
  if( results == null )
    return "";
  else
    return results[1];
}

function randOrd(){
	return (Math.round(Math.random())-0.5); 
}

function save(){
        $("#varnote").hide();
        $("#popdown").show();
        $("#values").hide();
        $("div").remove("#result1");
        savenames = $("#namesbox").val();
        savenames = savenames.replace(/\n\r?/g, '101');
        $('#headline').fadeOut();
        $('#headline').text('The name list is saved and updated.').fadeIn();
        $("#names").show();
        $('#namesbox').attr('disabled','disabled');
}

function namelist(){
        $("#varnote").hide();
        $('#namesbox').removeAttr('disabled','disabled');
        $('#headline').text('Configure name list');
        $("#popdown").show();
        $("#values").hide();
        $("#names").show();
        $('body').css({"overflow-y": "visible"});
}

// does the actual animation
function go(){
  $("#upload_image").hide();
  document.documentElement.requestFullscreen();
  $("#varnote").hide();
  $("#hide").hide();
  $('body').css({"overflow-y": "hidden"});
  $('#go').attr('disabled','disabled');
  $('#list').attr('disabled','disabled');
  $('#save').attr('disabled','disabled');
  $('#headline').slideUp();
  $('#namesbox').slideDown();

  var count = 1;
  count = 1;
  $("div").remove("#result1");
  names = $("#namesbox").val();
  if(document.all) { // IE
    names=names.split("\n");
  }
  else { //Mozilla
    names=names.split("\n");
  }
  $("#values").show();
  $(".name").show();
  $("#popdown").hide();
  $("div").remove(".name");
  $("div").remove(".extra");
  $("#playback").html("");
  newtop = names.length * 200 * -1;
  //$('#values').css({top: -300});
  $('#values').css({top: + newtop});	
  names.sort( randOrd );
  var fruits = new Array ( "apple", "pear", "orange", "banana" );
  //console.log(fruits);
  //console.log(names);
  //alert(newtop);
  for(var i in names){
    if (names[i] == "" || typeof(names[i]) == undefined){
      count = count-1;
    } else {
      name = names[i];
      //console.log(name);
      $('#values').append('<div id=result'+count+' class=name>'+name+'</div>');
    }
    count = count+1;
  }
  for(var i in names){
    if (names[i] == "" || typeof(names[i]) == undefined){}else{
      name = names[i];
      $('#values').append('<div class=name>'+name+'</div>');
    }
    count = count+1;
  }
  for(var i in names){
    if (names[i] == "" || typeof(names[i]) == undefined){}else{
      name = names[i];
      $('#values').append('<div class=name>'+name+'</div>');
    }
    count = count+1;
  }
  text = $('#result1').text()
  $('#values').animate({top: '+176'},5000);

  // make it stand out
  setTimeout("standout(text)",5000);
  //setTimeout("$('#playback').hide('slow')",11005);
}

function standout(text){

        $('#result1').removeClass('name');
        $('.name').animate({opacity: .25});
        $('#result1').animate({height: '+=80px'});
        $('#result1').append('<div class="extra"><a class="small alert button" href="#" onClick="removevictim();">Remove name from list</a></div>');
        $('#go').removeAttr('disabled','disabled');
        $('#list').removeAttr('disabled','disabled');
        $('#save').removeAttr('disabled','disabled');
        $('#headline').text('Congratulations, the winner is');
        $('#headline').slideDown();
}

function removevictim(){
	// Removing victim from array and UI
	// names = names.filter(function(){ return true});
	// Rewriting namesbox contents
	var nameupdated = "";
	for(var i in names){
		name = names[i];
                if (name == "" || name == text || typeof(name) == undefined){}else{
			nameupdated = nameupdated + "\n" + name;
		}
	}
	$('#namesbox').val("");
  $('#namesbox').val(nameupdated);
  $('#result1').html("Removed");
  $('#result1').fadeOut(1000, function(){
    $("div").remove("#result1");
  });
  $("div").remove(".name");
  $("div").remove(".extra");
  $('#headline').text('OK, done! Let\'s see who is next? Just click "GO!" button for next roll.');
  $("#hide").show();
}

</script>

  <script>var el = document.getElementById('getval');
  if(el){el.addEventListener('change', readURL, true);}
function readURL(){
    var file = document.getElementById("getval").files[0];
    var reader = new FileReader();
    reader.onloadend = function(){
        document.getElementById('logo').style.backgroundImage = "url(" + reader.result + ")";        
    }
    if(file){
        reader.readAsDataURL(file);
        $("#upload_image").hide();
    }else{
    }
}


/**
 *
 * Element.requestFullScreen() polyfill
 * @author Chris Ferdinandi
 * @license MIT
 */
if (!Element.prototype.requestFullscreen) {
  Element.prototype.requestFullscreen = Element.prototype.mozRequestFullscreen || Element.prototype.webkitRequestFullscreen || Element.prototype.msRequestFullscreen;
}

/**
 * document.exitFullScreen() polyfill
 * @author Chris Ferdinandi
 * @license MIT
 */
if (!document.exitFullscreen) {
  document.exitFullscreen = document.mozExitFullscreen || document.webkitExitFullscreen || document.msExitFullscreen;
}

// function myFunction(x) {

//   if (document.fullscreenElement) {
//     $("#hide").show();
//     document.exitFullscreen();
//     x.classList.toggle("fa-eye-slash");
    
//   } else {
    
//     $("#hide").hide();
//     x.classList.toggle("fa-eye-slash");
//     document.documentElement.requestFullscreen();
//   }

// }

/**
 * document.fullscreenElement polyfill
 * Adapted from https://shaka-player-demo.appspot.com/docs/api/lib_polyfill_fullscreen.js.html
 * @author Chris Ferdinandi
 * @license MIT
 */
if (!document.fullscreenElement) {

  Object.defineProperty(document, 'fullscreenElement', {
    get: function() {
      return document.mozFullScreenElement || document.msFullscreenElement || document.webkitFullscreenElement;
    }
  });

  Object.defineProperty(document, 'fullscreenEnabled', {
    get: function() {
      return document.mozFullScreenEnabled || document.msFullscreenEnabled || document.webkitFullscreenEnabled;
    }
  });
}

document.addEventListener('click', function (event) {

  // Ignore clicks that weren't on the toggle button
  if (!event.target.hasAttribute('data-toggle-fullscreen')) return;

  // If there's an element in fullscreen, exit
  // Otherwise, enter it
  if (document.fullscreenElement) {
    document.exitFullscreen();
  } else {
    document.documentElement.requestFullscreen();
  }

}, false);

/*Make resizable div by Hung Nguyen*/
function makeResizableDiv(div) {
  const element = document.querySelector(div);
  const resizers = document.querySelectorAll(div + ' .resizer')
  const minimum_size = 20;
  let original_width = 0;
  let original_height = 0;
  let original_x = 0;
  let original_y = 0;
  let original_mouse_x = 0;
  let original_mouse_y = 0;
  for (let i = 0;i < resizers.length; i++) {
    const currentResizer = resizers[i];
    currentResizer.addEventListener('mousedown', function(e) {
      e.preventDefault()
      original_width = parseFloat(getComputedStyle(element, null).getPropertyValue('width').replace('px', ''));
      original_height = parseFloat(getComputedStyle(element, null).getPropertyValue('height').replace('px', ''));
      original_x = element.getBoundingClientRect().left;
      original_y = element.getBoundingClientRect().top;
      original_mouse_x = e.pageX;
      original_mouse_y = e.pageY;
      window.addEventListener('mousemove', resize)
      window.addEventListener('mouseup', stopResize)
    })
    
    function resize(e) {
      if (currentResizer.classList.contains('bottom-right')) {
        const width = original_width + (e.pageX - original_mouse_x);
        const height = original_height + (e.pageY - original_mouse_y)
        if (width > minimum_size) {
          element.style.width = width + 'px'
        }
        if (height > minimum_size) {
          element.style.height = height + 'px'
        }
      }
      else if (currentResizer.classList.contains('bottom-left')) {
        const height = original_height + (e.pageY - original_mouse_y)
        const width = original_width - (e.pageX - original_mouse_x)
        if (height > minimum_size) {
          element.style.height = height + 'px'
        }
        if (width > minimum_size) {
          element.style.width = width + 'px'
          element.style.left = original_x + (e.pageX - original_mouse_x) + 'px'
        }
      }
      else if (currentResizer.classList.contains('top-right')) {
        const width = original_width + (e.pageX - original_mouse_x)
        const height = original_height - (e.pageY - original_mouse_y)
        if (width > minimum_size) {
          element.style.width = width + 'px'
        }
        if (height > minimum_size) {
          element.style.height = height + 'px'
          element.style.top = original_y + (e.pageY - original_mouse_y) + 'px'
        }
      }
      else {
        const width = original_width - (e.pageX - original_mouse_x)
        const height = original_height - (e.pageY - original_mouse_y)
        if (width > minimum_size) {
          element.style.width = width + 'px'
          element.style.left = original_x + (e.pageX - original_mouse_x) + 'px'
        }
        if (height > minimum_size) {
          element.style.height = height + 'px'
          element.style.top = original_y + (e.pageY - original_mouse_y) + 'px'
        }
      }
    }
    
    function stopResize() {
      window.removeEventListener('mousemove', resize)
    }
  }
}

makeResizableDiv('.resizable')

// function myFunction() {
//   var element = document.getElementsByClassName("hide_resizer")[0];
//   element.classList.remove("resizer");
//   var element1 = document.getElementsByClassName("hide_resizer")[1];
//   element1.classList.remove("resizer");
//   var element2 =
//   document.getElementsByClassName("hide_resizer")[2];
//   element2.classList.remove("resizer");
//   var element3 = document.getElementsByClassName("hide_resizer")[3];
//   element3.classList.remove("resizer");
// }

</script>

</body>
</html>
